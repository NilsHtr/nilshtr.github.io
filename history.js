document.addEventListener("DOMContentLoaded",()=>{let e=localStorage.getItem("selectedSport");if(!e){window.location.href="index.html";return}let t=document.getElementById("sportType");t.textContent=e.charAt(0).toUpperCase()+e.slice(1);let n=document.getElementById("historySelect"),l=document.getElementById("historyTable"),a=`trainingHistory_${e}`,r=JSON.parse(localStorage.getItem(a)||"[]");function d(e){let t=document.createElement("table"),n=document.createElement("thead"),l=document.createElement("tr");e.headers.forEach(e=>{let t=document.createElement("th");t.textContent=e,l.appendChild(t)}),n.appendChild(l),t.appendChild(n);let a=document.createElement("tbody");return e.rows.forEach(e=>{let t=document.createElement("tr");e.forEach(e=>{let n=document.createElement("td");n.textContent=e,t.appendChild(n)}),a.appendChild(t)}),t.appendChild(a),t}r.forEach((e,t)=>{let l=document.createElement("option");l.value=t;let a=new Date(e.date);l.textContent=a.toLocaleDateString("de-DE",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),n.appendChild(l)}),n.addEventListener("change",()=>{l.innerHTML="";let e=n.value;if(""===e)return;let t=r[e],a=d(t.tableData);l.appendChild(a)});let i=document.getElementById("showAnalytics");i.addEventListener("click",()=>{window.location.href="analytics.html"})});